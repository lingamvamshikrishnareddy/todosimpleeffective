{"ast":null,"code":"var _jsxFileName = \"D:\\\\Projects\\\\todo list\\\\frontend\\\\src\\\\pages\\\\TaskPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Task from '../components/Task';\nimport TaskKanban from '../components/TaskKanban';\nimport { Helmet } from 'react-helmet';\nimport api from '../services/api';\nimport './TaskPage.css';\n\n// Number of ms to debounce task fetching\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst DEBOUNCE_DELAY = 300;\nconst TaskPage = () => {\n  _s();\n  const [tasks, setTasks] = useState([]);\n  const [taskText, setTaskText] = useState('');\n  const [taskDescription, setTaskDescription] = useState('');\n  const [isEditing, setIsEditing] = useState(false);\n  const [currentTaskId, setCurrentTaskId] = useState(null);\n  const [filter, setFilter] = useState('all');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [page, setPage] = useState(1);\n  const [totalPages, setTotalPages] = useState(1);\n  const [category, setCategory] = useState('');\n  const [priority, setPriority] = useState('');\n  const [dueDate, setDueDate] = useState('');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [sortBy, setSortBy] = useState('createdAt:desc');\n  const [userProfile, setUserProfile] = useState(null);\n  const [loggingOut, setLoggingOut] = useState(false);\n  const [isFetching, setIsFetching] = useState(false);\n  const [viewMode, setViewMode] = useState('kanban'); // default to kanban\n  const history = useHistory();\n\n  // Create a stable reference for the timeout\n  const timeoutRef = useRef(null);\n\n  // Get user profile on component mount with error handling\n  useEffect(() => {\n    let isMounted = true;\n    const getUserProfile = async () => {\n      try {\n        const profile = await api.user.getProfile();\n        if (isMounted) {\n          setUserProfile(profile);\n        }\n      } catch (err) {\n        var _err$message;\n        console.error('Error fetching user profile:', err);\n        if (isMounted && (err.status === 401 || (_err$message = err.message) !== null && _err$message !== void 0 && _err$message.includes('unauthorized'))) {\n          history.push('/login');\n        }\n      }\n    };\n    getUserProfile();\n    return () => {\n      isMounted = false;\n    };\n  }, [history]);\n\n  // Convert filter to API status - memoize function\n  const getStatusFromFilter = useCallback(() => {\n    if (filter === 'completed') return 'completed';\n    if (filter === 'active') return 'active';\n    return '';\n  }, [filter]);\n\n  // Create memoized query parameters for fetchTasks to prevent unnecessary re-renders\n  const queryParams = useMemo(() => ({\n    page,\n    limit: viewMode === 'kanban' ? 100 : 10,\n    // Load more tasks for kanban view\n    status: getStatusFromFilter(),\n    category: category || undefined,\n    search: searchQuery || undefined,\n    sortBy,\n    priority: priority || undefined,\n    dueDate: dueDate || undefined\n  }), [page, getStatusFromFilter, category, searchQuery, sortBy, priority, dueDate, viewMode]);\n\n  // Memoize the fetch function without the timeout logic\n  const executeFetch = useCallback(async () => {\n    if (isFetching) return;\n    try {\n      var _response$pagination;\n      setIsFetching(true);\n      setLoading(true);\n      setError(null);\n      const response = await api.tasks.getTasks(queryParams);\n      setTasks(response.tasks || []);\n      setTotalPages(((_response$pagination = response.pagination) === null || _response$pagination === void 0 ? void 0 : _response$pagination.pages) || 1);\n    } catch (err) {\n      if (err.status === 429) {\n        setError('Too many requests. Please try again in a moment.');\n      } else if (err.status === 401) {\n        history.push('/login');\n      } else {\n        setError('Failed to load tasks. Please try again.');\n      }\n      console.error('Error fetching tasks:', err);\n    } finally {\n      setLoading(false);\n      setIsFetching(false);\n    }\n  }, [queryParams, history, isFetching]);\n\n  // Handle the debounced fetch separately\n  useEffect(() => {\n    // Clear any existing timeout first\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n    }\n\n    // Set new timeout\n    timeoutRef.current = setTimeout(() => {\n      executeFetch();\n    }, DEBOUNCE_DELAY);\n\n    // Cleanup on unmount or when dependencies change\n    return () => {\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n    };\n  }, [executeFetch]);\n\n  // Optimized task actions with error handling and retries\n  const addTask = async () => {\n    if (taskText.trim() === '') return;\n    try {\n      setError(null);\n      if (isEditing) {\n        await api.tasks.updateTask(currentTaskId, {\n          title: taskText,\n          description: taskDescription,\n          category,\n          priority,\n          dueDate: dueDate || undefined\n        });\n        setIsEditing(false);\n        setCurrentTaskId(null);\n      } else {\n        await api.tasks.createTask({\n          title: taskText,\n          description: taskDescription,\n          category,\n          priority,\n          dueDate: dueDate || undefined\n        });\n      }\n\n      // Reset form\n      setTaskText('');\n      setTaskDescription('');\n      setCategory('');\n      setPriority('');\n      setDueDate('');\n\n      // Refresh task list\n      executeFetch();\n    } catch (err) {\n      const errorMessage = err.status === 429 ? 'Too many requests. Please try again in a moment.' : 'Failed to save task. Please try again.';\n      setError(errorMessage);\n      console.error('Error saving task:', err);\n    }\n  };\n\n  // Optimized delete with correct API call\n  const deleteTask = async taskId => {\n    try {\n      if (!taskId) {\n        console.error('Invalid task ID');\n        return;\n      }\n\n      // Optimistic UI update\n      const originalTasks = [...tasks];\n      setTasks(prevTasks => prevTasks.filter(task => (task._id || task.id) !== taskId));\n      try {\n        await api.tasks.deleteTask(taskId);\n      } catch (err) {\n        // Revert optimistic update on error\n        setTasks(originalTasks);\n        if (err.status === 429) {\n          setError('Too many requests. Please try again in a moment.');\n        } else {\n          setError('Failed to delete task. Please try again.');\n        }\n        console.error('Error deleting task:', err);\n      }\n    } catch (err) {\n      setError('Failed to delete task. Please try again.');\n      console.error('Error in delete task operation:', err);\n    }\n  };\n  const editTask = async task => {\n    setIsEditing(true);\n    setCurrentTaskId(task._id || task.id);\n    setTaskText(task.title || task.text);\n    setTaskDescription(task.description || '');\n    setCategory(task.category || '');\n    setPriority(task.priority || '');\n    setDueDate(task.dueDate ? new Date(task.dueDate).toISOString().split('T')[0] : '');\n  };\n\n  // Fixed toggle with correct API call\n  const toggleComplete = async taskId => {\n    try {\n      if (!taskId) {\n        console.error('Invalid task ID');\n        return;\n      }\n\n      // Optimistic update\n      const originalTasks = [...tasks];\n      setTasks(prevTasks => prevTasks.map(task => {\n        if ((task._id || task.id) === taskId) {\n          return {\n            ...task,\n            status: task.status === 'completed' ? 'active' : 'completed'\n          };\n        }\n        return task;\n      }));\n      try {\n        await api.tasks.toggleTaskStatus(taskId);\n      } catch (err) {\n        // Revert optimistic update on error\n        setTasks(originalTasks);\n        if (err.status === 429) {\n          setError('Too many requests. Please try again in a moment.');\n        } else {\n          setError('Failed to update task status. Please try again.');\n        }\n        console.error('Error updating task status:', err);\n      }\n    } catch (err) {\n      setError('Failed to update task status. Please try again.');\n      console.error('Error in toggle complete operation:', err);\n    }\n  };\n\n  // This function is called by TaskKanban when a task is dropped in a new column\n  const handleStatusChange = async (taskId, newStatus) => {\n    try {\n      if (!taskId || !newStatus) {\n        console.error('Invalid task ID or status for update', {\n          taskId,\n          newStatus\n        });\n        // Optionally trigger a refresh if optimistic update might be wrong\n        // executeFetch();\n        return;\n      }\n\n      // Find the original task to prevent issues if state updates haven't propagated yet\n      const originalTask = tasks.find(t => (t._id || t.id) === taskId);\n      if (!originalTask) {\n        console.error('Original task not found for status update:', taskId);\n        executeFetch(); // Refresh state as something is inconsistent\n        return;\n      }\n\n      // --- Optimistic Update (Handled visually by TaskKanban's setColumns) ---\n      // We might update the main `tasks` array here too for consistency,\n      // though TaskKanban relies on its own `columns` state for rendering.\n      // Let's keep it simple for now and rely on TaskKanban's local state\n      // and the eventual refresh if the API call fails.\n\n      // --- API Call ---\n      console.log(`API Call: Updating task ${taskId} to status ${newStatus}`);\n      await api.tasks.updateTask(taskId, {\n        status: newStatus\n      }); // Use the standard update endpoint\n\n      // Optional: Fetch tasks again IF the optimistic update isn't perfectly reliable\n      // or if other data related to the status change needs refreshing.\n      // However, avoid fetching if the TaskKanban component handles the visual update correctly.\n      // executeFetch();\n    } catch (err) {\n      // Revert optimistic update or refresh state on error\n      console.error('Error updating task status via API:', err);\n      setError(`Failed to update task status for ${taskId}. Please refresh.`);\n      // Trigger a full refresh to ensure consistency after failure\n      executeFetch();\n\n      // --- Revert Logic (If you implemented optimistic update on `tasks` state) ---\n      // setTasks(prevTasks => {\n      //   // Find the index and revert the status\n      //   const taskIndex = prevTasks.findIndex(t => (t._id || t.id) === taskId);\n      //   if (taskIndex > -1 && originalTask) {\n      //     const revertedTasks = [...prevTasks];\n      //     revertedTasks[taskIndex] = originalTask; // Put the original task back\n      //     return revertedTasks;\n      //   }\n      //   return prevTasks; // Return unmodified if task wasn't found\n      // });\n    }\n  };\n  const handleSearch = e => {\n    e.preventDefault();\n    setPage(1); // Reset to first page when searching\n    executeFetch();\n  };\n  const handleClearFilters = () => {\n    setFilter('all');\n    setCategory('');\n    setPriority('');\n    setDueDate('');\n    setSearchQuery('');\n    setSortBy('createdAt:desc');\n    setPage(1);\n  };\n  const handlePageChange = newPage => {\n    if (newPage >= 1 && newPage <= totalPages) {\n      setPage(newPage);\n    }\n  };\n\n  // Fixed logout with correct API call\n  const handleLogout = async () => {\n    try {\n      setLoggingOut(true);\n      await api.auth.logout();\n      history.push('/login');\n    } catch (err) {\n      setError('Logout failed. Please try again.');\n      console.error('Logout error:', err);\n      setLoggingOut(false);\n    }\n  };\n\n  // Memoize active tasks count to avoid recalculation on every render\n  const activeTaskCount = useMemo(() => {\n    return tasks.filter(task => task.status !== 'completed').length;\n  }, [tasks]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"TaskFlow - Manage Your Tasks\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 353,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Create, organize, and track your tasks efficiently with TaskFlow.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 354,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"header task-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"logo-section\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"app-logo\",\n            children: \"TaskFlow\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 360,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), userProfile && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"user-controls\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"user-info\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"welcome-text\",\n              children: [\"Welcome, \", userProfile.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"user-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"/profile\",\n                className: \"profile-link\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-user-circle\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 370,\n                  columnNumber: 21\n                }, this), \" My Profile\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"logout-button\",\n                onClick: handleLogout,\n                disabled: loggingOut,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-sign-out\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 377,\n                  columnNumber: 21\n                }, this), \" \", loggingOut ? 'Logging out...' : 'Logout']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"content-area\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"page-title\",\n          children: \"Task Management\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"error-message\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-exclamation-circle\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 390,\n              columnNumber: 18\n            }, this), \" \", error]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setError(null),\n            children: \"Dismiss\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 391,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card task-form-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"card-title\",\n            children: [/*#__PURE__*/_jsxDEV(\"i\", {\n              className: \"fa fa-tasks\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 398,\n              columnNumber: 15\n            }, this), \" \", isEditing ? 'Edit Task' : 'Add New Task']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"taskTitle\",\n              children: \"Task Title:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"taskTitle\",\n              type: \"text\",\n              value: taskText,\n              onChange: e => setTaskText(e.target.value),\n              placeholder: \"What needs to be done?\",\n              className: \"form-input\",\n              required: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"taskDescription\",\n              children: \"Description (optional):\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              id: \"taskDescription\",\n              value: taskDescription,\n              onChange: e => setTaskDescription(e.target.value),\n              placeholder: \"Add details about this task...\",\n              className: \"form-textarea\",\n              rows: \"3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group half-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"taskCategory\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-tag\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 19\n                }, this), \" Category:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                id: \"taskCategory\",\n                type: \"text\",\n                value: category,\n                onChange: e => setCategory(e.target.value),\n                placeholder: \"e.g. Work, Personal\",\n                className: \"form-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-group half-width\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                htmlFor: \"taskPriority\",\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-flag\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 19\n                }, this), \" Priority:\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 441,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                id: \"taskPriority\",\n                value: priority,\n                onChange: e => setPriority(e.target.value),\n                className: \"form-select\",\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Select Priority\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"low\",\n                  children: \"Low\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 451,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"medium\",\n                  children: \"Medium\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 452,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"high\",\n                  children: \"High\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 440,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"taskDueDate\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-calendar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 17\n              }, this), \" Due Date (optional):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"taskDueDate\",\n              type: \"date\",\n              value: dueDate,\n              onChange: e => setDueDate(e.target.value),\n              className: \"form-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"button-row\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button primary-button\",\n              onClick: addTask,\n              disabled: !taskText.trim(),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-plus-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this), \" \", isEditing ? 'Update Task' : 'Add Task']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 472,\n              columnNumber: 15\n            }, this), isEditing && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"button secondary-button\",\n              onClick: () => {\n                setIsEditing(false);\n                setTaskText('');\n                setTaskDescription('');\n                setCategory('');\n                setPriority('');\n                setDueDate('');\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-times-circle\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 19\n              }, this), \" Cancel\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 480,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 396,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"view-toggle-container\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"view-toggle\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: `view-button ${viewMode === 'list' ? 'active' : ''}`,\n              onClick: () => setViewMode('list'),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-list\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 504,\n                columnNumber: 17\n              }, this), \" List View\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 500,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `view-button ${viewMode === 'kanban' ? 'active' : ''}`,\n              onClick: () => setViewMode('kanban'),\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-columns\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 510,\n                columnNumber: 17\n              }, this), \" Kanban View\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 506,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 499,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 498,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card filter-card\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-controls\",\n            children: [/*#__PURE__*/_jsxDEV(\"form\", {\n              onSubmit: handleSearch,\n              className: \"search-form\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"search-input-wrapper\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  type: \"text\",\n                  placeholder: \"Search tasks...\",\n                  value: searchQuery,\n                  onChange: e => setSearchQuery(e.target.value),\n                  className: \"form-input search-input\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"submit\",\n                  className: \"search-button\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-search\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 528,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 527,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 519,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 518,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"advanced-filters\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"filterStatus\",\n                  children: \"Status:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 535,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"filterStatus\",\n                  value: filter,\n                  onChange: e => setFilter(e.target.value),\n                  className: \"form-select filter-select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"all\",\n                    children: \"All Tasks\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 542,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"active\",\n                    children: \"Active\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 543,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"completed\",\n                    children: \"Completed\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 544,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 536,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 534,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"filter-group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  htmlFor: \"filterSort\",\n                  children: \"Sort By:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 549,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  id: \"filterSort\",\n                  value: sortBy,\n                  onChange: e => setSortBy(e.target.value),\n                  className: \"form-select filter-select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"createdAt:desc\",\n                    children: \"Newest First\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"createdAt:asc\",\n                    children: \"Oldest First\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 557,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"title:asc\",\n                    children: \"A-Z\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 558,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"title:desc\",\n                    children: \"Z-A\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 559,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"priority:desc\",\n                    children: \"Priority (High-Low)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"priority:asc\",\n                    children: \"Priority (Low-High)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 561,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"dueDate:asc\",\n                    children: \"Due Date (Earliest)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 562,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"dueDate:desc\",\n                    children: \"Due Date (Latest)\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 563,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 550,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 548,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"clear-filters-button\",\n                onClick: handleClearFilters,\n                children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                  className: \"fa fa-times\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 571,\n                  columnNumber: 19\n                }, this), \" Clear Filters\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 567,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 533,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 517,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 516,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"task-content-container\",\n          children: loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"loading-container\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"loading-spinner\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-spinner fa-spin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 582,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Loading tasks...\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 583,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 580,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: viewMode === 'kanban' ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"kanban-container\",\n              children: /*#__PURE__*/_jsxDEV(TaskKanban, {\n                tasks: tasks,\n                onEdit: editTask,\n                onDelete: deleteTask,\n                onStatusChange: handleStatusChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 590,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 589,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"list-container\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-stats\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"task-count\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-check-circle\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 601,\n                    columnNumber: 25\n                  }, this), \" \", tasks.length, \" tasks total\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 600,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"task-count active\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-clock-o\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 604,\n                    columnNumber: 25\n                  }, this), \" \", activeTaskCount, \" active\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 603,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"task-count completed\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-check\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 607,\n                    columnNumber: 25\n                  }, this), \" \", tasks.length - activeTaskCount, \" completed\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 606,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"task-list\",\n                children: tasks.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"empty-state\",\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-tasks empty-icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 614,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"No tasks found with the current filters.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 615,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"button secondary-button\",\n                    onClick: handleClearFilters,\n                    children: \"Clear Filters\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 616,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 613,\n                  columnNumber: 25\n                }, this) : tasks.map(task => /*#__PURE__*/_jsxDEV(Task, {\n                  task: task,\n                  onToggle: () => toggleComplete(task._id || task.id),\n                  onEdit: () => editTask(task),\n                  onDelete: () => deleteTask(task._id || task.id)\n                }, task._id || task.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 625,\n                  columnNumber: 27\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 21\n              }, this), totalPages > 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pagination\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"pagination-button\",\n                  onClick: () => handlePageChange(page - 1),\n                  disabled: page === 1,\n                  children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-chevron-left\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 644,\n                    columnNumber: 27\n                  }, this), \" Previous\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 639,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"pagination-info\",\n                  children: [\"Page \", page, \" of \", totalPages]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  className: \"pagination-button\",\n                  onClick: () => handlePageChange(page + 1),\n                  disabled: page === totalPages,\n                  children: [\"Next \", /*#__PURE__*/_jsxDEV(\"i\", {\n                    className: \"fa fa-chevron-right\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 656,\n                    columnNumber: 32\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 651,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 598,\n              columnNumber: 19\n            }, this)\n          }, void 0, false)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"quick-help-section\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card help-card\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"help-title\",\n              children: [/*#__PURE__*/_jsxDEV(\"i\", {\n                className: \"fa fa-lightbulb-o\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 669,\n                columnNumber: 42\n              }, this), \" Tips\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 669,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n              className: \"help-list\",\n              children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Use the Kanban view to drag-and-drop tasks between states\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 671,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Set priorities and due dates to keep track of important tasks\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 672,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Use categories to organize your tasks by project or area\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 673,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: \"Search for specific tasks using the search bar\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 674,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 670,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 668,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"footer\", {\n        className: \"app-footer\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"\\xA9 \", new Date().getFullYear(), \" TaskFlow App. All rights reserved.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 681,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 680,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(TaskPage, \"JYHoUWq4so9CmcR8D8w/hTvwmvA=\", false, function () {\n  return [useHistory];\n});\n_c = TaskPage;\nexport default TaskPage;\nvar _c;\n$RefreshReg$(_c, \"TaskPage\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","useRef","useHistory","Task","TaskKanban","Helmet","api","jsxDEV","_jsxDEV","Fragment","_Fragment","DEBOUNCE_DELAY","TaskPage","_s","tasks","setTasks","taskText","setTaskText","taskDescription","setTaskDescription","isEditing","setIsEditing","currentTaskId","setCurrentTaskId","filter","setFilter","loading","setLoading","error","setError","page","setPage","totalPages","setTotalPages","category","setCategory","priority","setPriority","dueDate","setDueDate","searchQuery","setSearchQuery","sortBy","setSortBy","userProfile","setUserProfile","loggingOut","setLoggingOut","isFetching","setIsFetching","viewMode","setViewMode","history","timeoutRef","isMounted","getUserProfile","profile","user","getProfile","err","_err$message","console","status","message","includes","push","getStatusFromFilter","queryParams","limit","undefined","search","executeFetch","_response$pagination","response","getTasks","pagination","pages","current","clearTimeout","setTimeout","addTask","trim","updateTask","title","description","createTask","errorMessage","deleteTask","taskId","originalTasks","prevTasks","task","_id","id","editTask","text","Date","toISOString","split","toggleComplete","map","toggleTaskStatus","handleStatusChange","newStatus","originalTask","find","t","log","handleSearch","e","preventDefault","handleClearFilters","handlePageChange","newPage","handleLogout","auth","logout","activeTaskCount","length","children","fileName","_jsxFileName","lineNumber","columnNumber","name","content","className","href","onClick","disabled","htmlFor","type","value","onChange","target","placeholder","required","rows","onSubmit","onEdit","onDelete","onStatusChange","onToggle","getFullYear","_c","$RefreshReg$"],"sources":["D:/Projects/todo list/frontend/src/pages/TaskPage.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useMemo, useRef } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Task from '../components/Task';\r\nimport TaskKanban from '../components/TaskKanban';\r\nimport { Helmet } from 'react-helmet';\r\nimport api from '../services/api';\r\nimport './TaskPage.css';\r\n\r\n// Number of ms to debounce task fetching\r\nconst DEBOUNCE_DELAY = 300;\r\n\r\nconst TaskPage = () => {\r\n  const [tasks, setTasks] = useState([]);\r\n  const [taskText, setTaskText] = useState('');\r\n  const [taskDescription, setTaskDescription] = useState('');\r\n  const [isEditing, setIsEditing] = useState(false);\r\n  const [currentTaskId, setCurrentTaskId] = useState(null);\r\n  const [filter, setFilter] = useState('all');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [page, setPage] = useState(1);\r\n  const [totalPages, setTotalPages] = useState(1);\r\n  const [category, setCategory] = useState('');\r\n  const [priority, setPriority] = useState('');\r\n  const [dueDate, setDueDate] = useState('');\r\n  const [searchQuery, setSearchQuery] = useState('');\r\n  const [sortBy, setSortBy] = useState('createdAt:desc');\r\n  const [userProfile, setUserProfile] = useState(null);\r\n  const [loggingOut, setLoggingOut] = useState(false);\r\n  const [isFetching, setIsFetching] = useState(false);\r\n  const [viewMode, setViewMode] = useState('kanban'); // default to kanban\r\n  const history = useHistory();\r\n\r\n  // Create a stable reference for the timeout\r\n  const timeoutRef = useRef(null);\r\n\r\n  // Get user profile on component mount with error handling\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n\r\n    const getUserProfile = async () => {\r\n      try {\r\n        const profile = await api.user.getProfile();\r\n        if (isMounted) {\r\n          setUserProfile(profile);\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching user profile:', err);\r\n        if (isMounted && (err.status === 401 || err.message?.includes('unauthorized'))) {\r\n          history.push('/login');\r\n        }\r\n      }\r\n    };\r\n\r\n    getUserProfile();\r\n\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, [history]);\r\n\r\n  // Convert filter to API status - memoize function\r\n  const getStatusFromFilter = useCallback(() => {\r\n    if (filter === 'completed') return 'completed';\r\n    if (filter === 'active') return 'active';\r\n    return '';\r\n  }, [filter]);\r\n\r\n  // Create memoized query parameters for fetchTasks to prevent unnecessary re-renders\r\n  const queryParams = useMemo(() => ({\r\n    page,\r\n    limit: viewMode === 'kanban' ? 100 : 10, // Load more tasks for kanban view\r\n    status: getStatusFromFilter(),\r\n    category: category || undefined,\r\n    search: searchQuery || undefined,\r\n    sortBy,\r\n    priority: priority || undefined,\r\n    dueDate: dueDate || undefined\r\n  }), [page, getStatusFromFilter, category, searchQuery, sortBy, priority, dueDate, viewMode]);\r\n\r\n  // Memoize the fetch function without the timeout logic\r\n  const executeFetch = useCallback(async () => {\r\n    if (isFetching) return;\r\n\r\n    try {\r\n      setIsFetching(true);\r\n      setLoading(true);\r\n      setError(null);\r\n\r\n      const response = await api.tasks.getTasks(queryParams);\r\n\r\n      setTasks(response.tasks || []);\r\n      setTotalPages(response.pagination?.pages || 1);\r\n    } catch (err) {\r\n      if (err.status === 429) {\r\n        setError('Too many requests. Please try again in a moment.');\r\n      } else if (err.status === 401) {\r\n        history.push('/login');\r\n      } else {\r\n        setError('Failed to load tasks. Please try again.');\r\n      }\r\n      console.error('Error fetching tasks:', err);\r\n    } finally {\r\n      setLoading(false);\r\n      setIsFetching(false);\r\n    }\r\n  }, [queryParams, history, isFetching]);\r\n\r\n  // Handle the debounced fetch separately\r\n  useEffect(() => {\r\n    // Clear any existing timeout first\r\n    if (timeoutRef.current) {\r\n      clearTimeout(timeoutRef.current);\r\n    }\r\n\r\n    // Set new timeout\r\n    timeoutRef.current = setTimeout(() => {\r\n      executeFetch();\r\n    }, DEBOUNCE_DELAY);\r\n\r\n    // Cleanup on unmount or when dependencies change\r\n    return () => {\r\n      if (timeoutRef.current) {\r\n        clearTimeout(timeoutRef.current);\r\n      }\r\n    };\r\n  }, [executeFetch]);\r\n\r\n  // Optimized task actions with error handling and retries\r\n  const addTask = async () => {\r\n    if (taskText.trim() === '') return;\r\n\r\n    try {\r\n      setError(null);\r\n\r\n      if (isEditing) {\r\n        await api.tasks.updateTask(currentTaskId, {\r\n          title: taskText,\r\n          description: taskDescription,\r\n          category,\r\n          priority,\r\n          dueDate: dueDate || undefined\r\n        });\r\n\r\n        setIsEditing(false);\r\n        setCurrentTaskId(null);\r\n      } else {\r\n        await api.tasks.createTask({\r\n          title: taskText,\r\n          description: taskDescription,\r\n          category,\r\n          priority,\r\n          dueDate: dueDate || undefined\r\n        });\r\n      }\r\n\r\n      // Reset form\r\n      setTaskText('');\r\n      setTaskDescription('');\r\n      setCategory('');\r\n      setPriority('');\r\n      setDueDate('');\r\n\r\n      // Refresh task list\r\n      executeFetch();\r\n    } catch (err) {\r\n      const errorMessage = err.status === 429\r\n        ? 'Too many requests. Please try again in a moment.'\r\n        : 'Failed to save task. Please try again.';\r\n\r\n      setError(errorMessage);\r\n      console.error('Error saving task:', err);\r\n    }\r\n  };\r\n\r\n  // Optimized delete with correct API call\r\n  const deleteTask = async (taskId) => {\r\n    try {\r\n      if (!taskId) {\r\n        console.error('Invalid task ID');\r\n        return;\r\n      }\r\n\r\n      // Optimistic UI update\r\n      const originalTasks = [...tasks];\r\n      setTasks(prevTasks => prevTasks.filter(task => (task._id || task.id) !== taskId));\r\n\r\n      try {\r\n        await api.tasks.deleteTask(taskId);\r\n      } catch (err) {\r\n        // Revert optimistic update on error\r\n        setTasks(originalTasks);\r\n\r\n        if (err.status === 429) {\r\n          setError('Too many requests. Please try again in a moment.');\r\n        } else {\r\n          setError('Failed to delete task. Please try again.');\r\n        }\r\n        console.error('Error deleting task:', err);\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to delete task. Please try again.');\r\n      console.error('Error in delete task operation:', err);\r\n    }\r\n  };\r\n\r\n  const editTask = async (task) => {\r\n    setIsEditing(true);\r\n    setCurrentTaskId(task._id || task.id);\r\n    setTaskText(task.title || task.text);\r\n    setTaskDescription(task.description || '');\r\n    setCategory(task.category || '');\r\n    setPriority(task.priority || '');\r\n    setDueDate(task.dueDate ? new Date(task.dueDate).toISOString().split('T')[0] : '');\r\n  };\r\n\r\n  // Fixed toggle with correct API call\r\n  const toggleComplete = async (taskId) => {\r\n    try {\r\n      if (!taskId) {\r\n        console.error('Invalid task ID');\r\n        return;\r\n      }\r\n\r\n      // Optimistic update\r\n      const originalTasks = [...tasks];\r\n      setTasks(prevTasks => prevTasks.map(task => {\r\n        if ((task._id || task.id) === taskId) {\r\n          return {\r\n            ...task,\r\n            status: task.status === 'completed' ? 'active' : 'completed'\r\n          };\r\n        }\r\n        return task;\r\n      }));\r\n\r\n      try {\r\n        await api.tasks.toggleTaskStatus(taskId);\r\n      } catch (err) {\r\n        // Revert optimistic update on error\r\n        setTasks(originalTasks);\r\n\r\n        if (err.status === 429) {\r\n          setError('Too many requests. Please try again in a moment.');\r\n        } else {\r\n          setError('Failed to update task status. Please try again.');\r\n        }\r\n        console.error('Error updating task status:', err);\r\n      }\r\n    } catch (err) {\r\n      setError('Failed to update task status. Please try again.');\r\n      console.error('Error in toggle complete operation:', err);\r\n    }\r\n  };\r\n\r\n  // This function is called by TaskKanban when a task is dropped in a new column\r\n  const handleStatusChange = async (taskId, newStatus) => {\r\n    try {\r\n      if (!taskId || !newStatus) {\r\n        console.error('Invalid task ID or status for update', { taskId, newStatus });\r\n        // Optionally trigger a refresh if optimistic update might be wrong\r\n        // executeFetch();\r\n        return;\r\n      }\r\n\r\n      // Find the original task to prevent issues if state updates haven't propagated yet\r\n      const originalTask = tasks.find(t => (t._id || t.id) === taskId);\r\n      if (!originalTask) {\r\n        console.error('Original task not found for status update:', taskId);\r\n        executeFetch(); // Refresh state as something is inconsistent\r\n        return;\r\n      }\r\n\r\n      // --- Optimistic Update (Handled visually by TaskKanban's setColumns) ---\r\n      // We might update the main `tasks` array here too for consistency,\r\n      // though TaskKanban relies on its own `columns` state for rendering.\r\n      // Let's keep it simple for now and rely on TaskKanban's local state\r\n      // and the eventual refresh if the API call fails.\r\n\r\n      // --- API Call ---\r\n      console.log(`API Call: Updating task ${taskId} to status ${newStatus}`);\r\n      await api.tasks.updateTask(taskId, { status: newStatus }); // Use the standard update endpoint\r\n\r\n      // Optional: Fetch tasks again IF the optimistic update isn't perfectly reliable\r\n      // or if other data related to the status change needs refreshing.\r\n      // However, avoid fetching if the TaskKanban component handles the visual update correctly.\r\n      // executeFetch();\r\n\r\n    } catch (err) {\r\n      // Revert optimistic update or refresh state on error\r\n      console.error('Error updating task status via API:', err);\r\n      setError(`Failed to update task status for ${taskId}. Please refresh.`);\r\n      // Trigger a full refresh to ensure consistency after failure\r\n      executeFetch();\r\n\r\n      // --- Revert Logic (If you implemented optimistic update on `tasks` state) ---\r\n      // setTasks(prevTasks => {\r\n      //   // Find the index and revert the status\r\n      //   const taskIndex = prevTasks.findIndex(t => (t._id || t.id) === taskId);\r\n      //   if (taskIndex > -1 && originalTask) {\r\n      //     const revertedTasks = [...prevTasks];\r\n      //     revertedTasks[taskIndex] = originalTask; // Put the original task back\r\n      //     return revertedTasks;\r\n      //   }\r\n      //   return prevTasks; // Return unmodified if task wasn't found\r\n      // });\r\n    }\r\n  };\r\n\r\n  const handleSearch = (e) => {\r\n    e.preventDefault();\r\n    setPage(1); // Reset to first page when searching\r\n    executeFetch();\r\n  };\r\n\r\n  const handleClearFilters = () => {\r\n    setFilter('all');\r\n    setCategory('');\r\n    setPriority('');\r\n    setDueDate('');\r\n    setSearchQuery('');\r\n    setSortBy('createdAt:desc');\r\n    setPage(1);\r\n  };\r\n\r\n  const handlePageChange = (newPage) => {\r\n    if (newPage >= 1 && newPage <= totalPages) {\r\n      setPage(newPage);\r\n    }\r\n  };\r\n\r\n  // Fixed logout with correct API call\r\n  const handleLogout = async () => {\r\n    try {\r\n      setLoggingOut(true);\r\n      await api.auth.logout();\r\n      history.push('/login');\r\n    } catch (err) {\r\n      setError('Logout failed. Please try again.');\r\n      console.error('Logout error:', err);\r\n      setLoggingOut(false);\r\n    }\r\n  };\r\n\r\n  // Memoize active tasks count to avoid recalculation on every render\r\n  const activeTaskCount = useMemo(() => {\r\n    return tasks.filter(task => task.status !== 'completed').length;\r\n  }, [tasks]);\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>TaskFlow - Manage Your Tasks</title>\r\n        <meta name=\"description\" content=\"Create, organize, and track your tasks efficiently with TaskFlow.\" />\r\n      </Helmet>\r\n\r\n      <div className=\"container\">\r\n        <div className=\"header task-header\">\r\n          <div className=\"logo-section\">\r\n            <h1 className=\"app-logo\">TaskFlow</h1>\r\n          </div>\r\n\r\n          {/* User profile and logout section */}\r\n          {userProfile && (\r\n            <div className=\"user-controls\">\r\n              <div className=\"user-info\">\r\n                <span className=\"welcome-text\">Welcome, {userProfile.name}</span>\r\n                <div className=\"user-actions\">\r\n                  <a href=\"/profile\" className=\"profile-link\">\r\n                    <i className=\"fa fa-user-circle\"></i> My Profile\r\n                  </a>\r\n                  <button\r\n                    className=\"logout-button\"\r\n                    onClick={handleLogout}\r\n                    disabled={loggingOut}\r\n                  >\r\n                    <i className=\"fa fa-sign-out\"></i> {loggingOut ? 'Logging out...' : 'Logout'}\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"content-area\">\r\n          <h1 className=\"page-title\">Task Management</h1>\r\n\r\n          {error && (\r\n            <div className=\"error-message\">\r\n              <p><i className=\"fa fa-exclamation-circle\"></i> {error}</p>\r\n              <button onClick={() => setError(null)}>Dismiss</button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Task Form */}\r\n          <div className=\"card task-form-card\">\r\n            <h2 className=\"card-title\">\r\n              <i className=\"fa fa-tasks\"></i> {isEditing ? 'Edit Task' : 'Add New Task'}\r\n            </h2>\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"taskTitle\">Task Title:</label>\r\n              <input\r\n                id=\"taskTitle\"\r\n                type=\"text\"\r\n                value={taskText}\r\n                onChange={(e) => setTaskText(e.target.value)}\r\n                placeholder=\"What needs to be done?\"\r\n                className=\"form-input\"\r\n                required\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"taskDescription\">Description (optional):</label>\r\n              <textarea\r\n                id=\"taskDescription\"\r\n                value={taskDescription}\r\n                onChange={(e) => setTaskDescription(e.target.value)}\r\n                placeholder=\"Add details about this task...\"\r\n                className=\"form-textarea\"\r\n                rows=\"3\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"form-row\">\r\n              <div className=\"form-group half-width\">\r\n                <label htmlFor=\"taskCategory\">\r\n                  <i className=\"fa fa-tag\"></i> Category:\r\n                </label>\r\n                <input\r\n                  id=\"taskCategory\"\r\n                  type=\"text\"\r\n                  value={category}\r\n                  onChange={(e) => setCategory(e.target.value)}\r\n                  placeholder=\"e.g. Work, Personal\"\r\n                  className=\"form-input\"\r\n                />\r\n              </div>\r\n\r\n              <div className=\"form-group half-width\">\r\n                <label htmlFor=\"taskPriority\">\r\n                  <i className=\"fa fa-flag\"></i> Priority:\r\n                </label>\r\n                <select\r\n                  id=\"taskPriority\"\r\n                  value={priority}\r\n                  onChange={(e) => setPriority(e.target.value)}\r\n                  className=\"form-select\"\r\n                >\r\n                  <option value=\"\">Select Priority</option>\r\n                  <option value=\"low\">Low</option>\r\n                  <option value=\"medium\">Medium</option>\r\n                  <option value=\"high\">High</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"form-group\">\r\n              <label htmlFor=\"taskDueDate\">\r\n                <i className=\"fa fa-calendar\"></i> Due Date (optional):\r\n              </label>\r\n              <input\r\n                id=\"taskDueDate\"\r\n                type=\"date\"\r\n                value={dueDate}\r\n                onChange={(e) => setDueDate(e.target.value)}\r\n                className=\"form-input\"\r\n              />\r\n            </div>\r\n\r\n            <div className=\"button-row\">\r\n              <button\r\n                className=\"button primary-button\"\r\n                onClick={addTask}\r\n                disabled={!taskText.trim()}\r\n              >\r\n                <i className=\"fa fa-plus-circle\"></i> {isEditing ? 'Update Task' : 'Add Task'}\r\n              </button>\r\n              {isEditing && (\r\n                <button\r\n                  className=\"button secondary-button\"\r\n                  onClick={() => {\r\n                    setIsEditing(false);\r\n                    setTaskText('');\r\n                    setTaskDescription('');\r\n                    setCategory('');\r\n                    setPriority('');\r\n                    setDueDate('');\r\n                  }}\r\n                >\r\n                  <i className=\"fa fa-times-circle\"></i> Cancel\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          {/* View Toggle */}\r\n          <div className=\"view-toggle-container\">\r\n            <div className=\"view-toggle\">\r\n              <button\r\n                className={`view-button ${viewMode === 'list' ? 'active' : ''}`}\r\n                onClick={() => setViewMode('list')}\r\n              >\r\n                <i className=\"fa fa-list\"></i> List View\r\n              </button>\r\n              <button\r\n                className={`view-button ${viewMode === 'kanban' ? 'active' : ''}`}\r\n                onClick={() => setViewMode('kanban')}\r\n              >\r\n                <i className=\"fa fa-columns\"></i> Kanban View\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Search and Filter Controls */}\r\n          <div className=\"card filter-card\">\r\n            <div className=\"filter-controls\">\r\n              <form onSubmit={handleSearch} className=\"search-form\">\r\n                <div className=\"search-input-wrapper\">\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search tasks...\"\r\n                    value={searchQuery}\r\n                    onChange={(e) => setSearchQuery(e.target.value)}\r\n                    className=\"form-input search-input\"\r\n                  />\r\n                  <button type=\"submit\" className=\"search-button\">\r\n                    <i className=\"fa fa-search\"></i>\r\n                  </button>\r\n                </div>\r\n              </form>\r\n\r\n              <div className=\"advanced-filters\">\r\n                <div className=\"filter-group\">\r\n                  <label htmlFor=\"filterStatus\">Status:</label>\r\n                  <select\r\n                    id=\"filterStatus\"\r\n                    value={filter}\r\n                    onChange={(e) => setFilter(e.target.value)}\r\n                    className=\"form-select filter-select\"\r\n                  >\r\n                    <option value=\"all\">All Tasks</option>\r\n                    <option value=\"active\">Active</option>\r\n                    <option value=\"completed\">Completed</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <div className=\"filter-group\">\r\n                  <label htmlFor=\"filterSort\">Sort By:</label>\r\n                  <select\r\n                    id=\"filterSort\"\r\n                    value={sortBy}\r\n                    onChange={(e) => setSortBy(e.target.value)}\r\n                    className=\"form-select filter-select\"\r\n                  >\r\n                    <option value=\"createdAt:desc\">Newest First</option>\r\n                    <option value=\"createdAt:asc\">Oldest First</option>\r\n                    <option value=\"title:asc\">A-Z</option>\r\n                    <option value=\"title:desc\">Z-A</option>\r\n                    <option value=\"priority:desc\">Priority (High-Low)</option>\r\n                    <option value=\"priority:asc\">Priority (Low-High)</option>\r\n                    <option value=\"dueDate:asc\">Due Date (Earliest)</option>\r\n                    <option value=\"dueDate:desc\">Due Date (Latest)</option>\r\n                  </select>\r\n                </div>\r\n\r\n                <button\r\n                  className=\"clear-filters-button\"\r\n                  onClick={handleClearFilters}\r\n                >\r\n                  <i className=\"fa fa-times\"></i> Clear Filters\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Task Content */}\r\n          <div className=\"task-content-container\">\r\n            {loading ? (\r\n              <div className=\"loading-container\">\r\n                <div className=\"loading-spinner\">\r\n                  <i className=\"fa fa-spinner fa-spin\"></i>\r\n                  <p>Loading tasks...</p>\r\n                </div>\r\n              </div>\r\n            ) : (\r\n              <>\r\n                {viewMode === 'kanban' ? (\r\n                  <div className=\"kanban-container\">\r\n                    <TaskKanban\r\n                      tasks={tasks}\r\n                      onEdit={editTask}\r\n                      onDelete={deleteTask}\r\n                      onStatusChange={handleStatusChange}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"list-container\">\r\n                    <div className=\"task-stats\">\r\n                      <span className=\"task-count\">\r\n                        <i className=\"fa fa-check-circle\"></i> {tasks.length} tasks total\r\n                      </span>\r\n                      <span className=\"task-count active\">\r\n                        <i className=\"fa fa-clock-o\"></i> {activeTaskCount} active\r\n                      </span>\r\n                      <span className=\"task-count completed\">\r\n                        <i className=\"fa fa-check\"></i> {tasks.length - activeTaskCount} completed\r\n                      </span>\r\n                    </div>\r\n\r\n                    <div className=\"task-list\">\r\n                      {tasks.length === 0 ? (\r\n                        <div className=\"empty-state\">\r\n                          <i className=\"fa fa-tasks empty-icon\"></i>\r\n                          <p>No tasks found with the current filters.</p>\r\n                          <button\r\n                            className=\"button secondary-button\"\r\n                            onClick={handleClearFilters}\r\n                          >\r\n                            Clear Filters\r\n                          </button>\r\n                        </div>\r\n                      ) : (\r\n                        tasks.map(task => (\r\n                          <Task\r\n                            key={task._id || task.id}\r\n                            task={task}\r\n                            onToggle={() => toggleComplete(task._id || task.id)}\r\n                            onEdit={() => editTask(task)}\r\n                            onDelete={() => deleteTask(task._id || task.id)}\r\n                          />\r\n                        ))\r\n                      )}\r\n                    </div>\r\n\r\n                    {/* Pagination */}\r\n                    {totalPages > 1 && (\r\n                      <div className=\"pagination\">\r\n                        <button\r\n                          className=\"pagination-button\"\r\n                          onClick={() => handlePageChange(page - 1)}\r\n                          disabled={page === 1}\r\n                        >\r\n                          <i className=\"fa fa-chevron-left\"></i> Previous\r\n                        </button>\r\n\r\n                        <div className=\"pagination-info\">\r\n                          Page {page} of {totalPages}\r\n                        </div>\r\n\r\n                        <button\r\n                          className=\"pagination-button\"\r\n                          onClick={() => handlePageChange(page + 1)}\r\n                          disabled={page === totalPages}\r\n                        >\r\n                          Next <i className=\"fa fa-chevron-right\"></i>\r\n                        </button>\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                )}\r\n              </>\r\n            )}\r\n          </div>\r\n\r\n          {/* Quick help section */}\r\n          <div className=\"quick-help-section\">\r\n            <div className=\"card help-card\">\r\n              <h3 className=\"help-title\"><i className=\"fa fa-lightbulb-o\"></i> Tips</h3>\r\n              <ul className=\"help-list\">\r\n                <li>Use the Kanban view to drag-and-drop tasks between states</li>\r\n                <li>Set priorities and due dates to keep track of important tasks</li>\r\n                <li>Use categories to organize your tasks by project or area</li>\r\n                <li>Search for specific tasks using the search bar</li>\r\n              </ul>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <footer className=\"app-footer\">\r\n          <p>&copy; {new Date().getFullYear()} TaskFlow App. All rights reserved.</p>\r\n        </footer>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default TaskPage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}